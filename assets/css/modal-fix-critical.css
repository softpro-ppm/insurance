/* Critical Modal Fix - Ultra Aggressive Override */

/* Force all modal elements to be clickable with maximum priority */
.modal * {
    pointer-events: all !important;
    position: relative !important;
}

/* Modal backdrop fixes */
.modal-backdrop {
    pointer-events: none !important;
    z-index: 1040 !important;
}

/* Modal dialog and content with extreme priority */
.modal-dialog {
    pointer-events: all !important;
    z-index: 1060 !important;
    position: relative !important;
}

.modal-content {
    pointer-events: all !important;
    z-index: 1061 !important;
    position: relative !important;
    background: #ffffff !important;
}

/* Force all form elements to be clickable */
.modal .form-control,
.modal .form-select,
.modal .btn,
.modal input,
.modal select,
.modal textarea,
.modal button {
    pointer-events: all !important;
    z-index: 1062 !important;
    position: relative !important;
}

/* Special handling for buttons */
.modal .btn-close,
.modal button[type="submit"],
.modal button[type="button"] {
    pointer-events: all !important;
    z-index: 1065 !important;
    position: relative !important;
    cursor: pointer !important;
}

/* Override any potential overlay issues */
.modal::before,
.modal::after,
.modal-dialog::before,
.modal-dialog::after,
.modal-content::before,
.modal-content::after {
    display: none !important;
    pointer-events: none !important;
}

/* Force clickable state for all interactive elements */
.modal [role="button"],
.modal [onclick],
.modal [data-bs-toggle],
.modal [data-bs-target],
.modal a,
.modal label {
    pointer-events: all !important;
    cursor: pointer !important;
    z-index: 1063 !important;
    position: relative !important;
}

/* Remove any potential blocking elements */
.modal .overlay,
.modal .loading-overlay,
.modal .block-overlay {
    display: none !important;
    pointer-events: none !important;
}

/* Ensure modal shows properly */
.modal.show {
    display: block !important;
    opacity: 1 !important;
    visibility: visible !important;
}

/* Force proper z-index hierarchy */
.modal.show .modal-dialog {
    transform: none !important;
    z-index: 1060 !important;
}

/* Emergency override for any blocking elements */
body > * {
    z-index: auto !important;
}

body > .modal {
    z-index: 1055 !important;
}

body > .modal-backdrop {
    z-index: 1040 !important;
}

/* Disable any interference from other elements */
.container-fluid,
.row,
.col-* {
    position: relative !important;
}

/* Force interaction for form validation */
.modal .was-validated .form-control:valid,
.modal .was-validated .form-control:invalid,
.modal .form-control.is-valid,
.modal .form-control.is-invalid {
    pointer-events: all !important;
}

/* Scrollable modal fixes */
.modal-dialog-scrollable .modal-content {
    overflow-y: auto !important;
    max-height: calc(100vh - 3.5rem) !important;
}

.modal-dialog-scrollable .modal-body {
    overflow-y: auto !important;
    pointer-events: all !important;
}

/* Fix for any potential mask or overlay */
.modal-content > * {
    pointer-events: all !important;
    z-index: inherit !important;
}

/* Ensure dropdowns work in modal */
.modal .dropdown-menu {
    z-index: 1070 !important;
    pointer-events: all !important;
}

/* Fix for any potential interference from charts or other plugins */
.modal canvas,
.modal svg,
.modal .chart {
    pointer-events: none !important;
}

/* Ultra priority for close button */
.modal .btn-close {
    z-index: 1070 !important;
    pointer-events: all !important;
    opacity: 1 !important;
    cursor: pointer !important;
    background: none !important;
    border: none !important;
    font-size: 1.25rem !important;
    line-height: 1 !important;
}
